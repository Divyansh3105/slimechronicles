<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="icon" type="image/png" href="assets/fav.png">
    <link rel="icon" type="image/x-icon" href="assets/fav.ico">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="theme-color" content="#4dd4ff">
    <meta name="description" content="Character profiles from the Jura Tempest Federation">
    <title>Character Profile - Jura Tempest Federation</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Rajdhani:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/shared.css">
    <link rel="stylesheet" href="css/character.css">
    <link rel="stylesheet" href="css/sound-effects.css">
    <link rel="stylesheet" href="css/mobile-features.css">
    <script src="js/animated-bg.js" defer></script>
</head>

<body>
    <!-- Loading screen -->
    <div class="loading-screen" id="loading-screen">
        <div class="loading-orb">
            <div class="loading-inner"></div>
        </div>
        <div class="loading-text">Loading Character...</div>
        <div class="loading-progress">
            <div class="loading-bar"></div>
        </div>
    </div>

    <!-- Dynamic background elements -->
    <div class="starfield" id="starfield"></div>
    <div class="character-background" id="character-background"></div>
    <div class="particles" id="particles"></div>
    <div class="floating-elements" id="floating-elements"></div>

    <!-- Main Navigation -->
    <nav class="main-nav" id="main-nav">
        <a href="index.html" class="nav-brand">
            <div class="nav-brand-icon">
                <svg width="64" height="64" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <radialGradient id="slimeGradient" cx="50%" cy="40%" r="60%">
                            <stop offset="0%" style="stop-color:#4dd4ff;stop-opacity:1" />
                            <stop offset="70%" style="stop-color:#2a9fd8;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#1a7fb8;stop-opacity:1" />
                        </radialGradient>
                        <filter id="glow">
                            <feGaussianBlur stdDeviation="2" result="coloredBlur" />
                            <feMerge>
                                <feMergeNode in="coloredBlur" />
                                <feMergeNode in="SourceGraphic" />
                            </feMerge>
                        </filter>
                    </defs>
                    <ellipse cx="16" cy="20" rx="12" ry="8" fill="url(#slimeGradient)" filter="url(#glow)">
                        <animateTransform attributeName="transform" type="scale" values="1,1;1.1,0.9;1,1" dur="2s"
                            repeatCount="indefinite" />
                    </ellipse>
                    <ellipse cx="13" cy="17" rx="3" ry="2" fill="#ffffff" opacity="0.6">
                        <animate attributeName="opacity" values="0.6;0.8;0.6" dur="2s" repeatCount="indefinite" />
                    </ellipse>
                    <circle cx="12" cy="18" r="1.5" fill="#0a0e27">
                        <animate attributeName="r" values="1.5;1.2;1.5" dur="3s" repeatCount="indefinite" />
                    </circle>
                    <circle cx="20" cy="18" r="1.5" fill="#0a0e27">
                        <animate attributeName="r" values="1.5;1.2;1.5" dur="3s" repeatCount="indefinite" />
                    </circle>
                    <circle cx="12.5" cy="17.5" r="0.5" fill="#ffffff" opacity="0.8" />
                    <circle cx="20.5" cy="17.5" r="0.5" fill="#ffffff" opacity="0.8" />
                    <circle cx="8" cy="12" r="1" fill="#4dd4ff" opacity="0.4">
                        <animateTransform attributeName="transform" type="translate" values="0,0;2,-2;0,0" dur="3s"
                            repeatCount="indefinite" />
                        <animate attributeName="opacity" values="0.4;0.8;0.4" dur="3s" repeatCount="indefinite" />
                    </circle>
                    <circle cx="24" cy="14" r="0.8" fill="#4dd4ff" opacity="0.3">
                        <animateTransform attributeName="transform" type="translate" values="0,0;-1,-3;0,0" dur="4s"
                            repeatCount="indefinite" />
                        <animate attributeName="opacity" values="0.3;0.7;0.3" dur="4s" repeatCount="indefinite" />
                    </circle>
                    <circle cx="16" cy="8" r="0.6" fill="#4dd4ff" opacity="0.5">
                        <animateTransform attributeName="transform" type="translate" values="0,0;1,-1;0,0" dur="2.5s"
                            repeatCount="indefinite" />
                        <animate attributeName="opacity" values="0.5;0.9;0.5" dur="2.5s" repeatCount="indefinite" />
                    </circle>
                </svg>
            </div>
            <span>Jura Tempest</span>
        </a>

        <div class="nav-links">
            <a href="overview.html">
                <span class="nav-icon">ğŸ›ï¸</span>
                <span>Overview</span>
            </a>
            <a href="codex.html">
                <span class="nav-icon">ğŸ“š</span>
                <span>Codex</span>
            </a>
            <a href="skills.html">
                <span class="nav-icon">âœ¨</span>
                <span>Skills</span>
            </a>
            <a href="timeline.html">
                <span class="nav-icon">ğŸ“œ</span>
                <span>Chronicle</span>
            </a>
            <a href="records.html">
                <span class="nav-icon">ğŸ“œ</span>
                <span>Historical Records</span>
            </a>
            <a href="index.html">
                <span class="nav-icon">ğŸšª</span>
                <span>Exit</span>
            </a>
        </div>

        <div class="nav-actions">
            <button class="nav-action-btn" onclick="toggleSound()" title="Toggle Sound">
                <span class="icon" id="sound-toggle">ğŸ”Š</span>
            </button>
            <button class="nav-action-btn" onclick="toggleFullscreen()" title="Fullscreen">
                <span class="icon">â›¶</span>
            </button>
        </div>

        <div class="mobile-menu-toggle" onclick="toggleMobileMenu()">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <div class="nav-progress" id="nav-progress"></div>
    </nav>

    <!-- Mobile Navigation -->
    <div class="mobile-nav" id="mobile-nav">
        <button class="mobile-nav-close" onclick="toggleMobileMenu()">
            <span>âœ•</span>
        </button>
        <a href="overview.html">
            <span class="nav-icon">ğŸ›ï¸</span>
            <span>Overview</span>
        </a>
        <a href="codex.html">
            <span class="nav-icon">ğŸ“š</span>
            <span>Codex</span>
        </a>
        <a href="skills.html">
            <span class="nav-icon">âœ¨</span>
            <span>Skills</span>
        </a>
        <a href="timeline.html">
            <span class="nav-icon">ğŸ“œ</span>
            <span>Chronicle</span>
        </a>
        <a href="records.html">
            <span class="nav-icon">ğŸ“œ</span>
            <span>Historical Records</span>
        </a>
        <a href="index.html">
            <span class="nav-icon">ğŸšª</span>
            <span>Exit</span>
        </a>
    </div>

    <!-- Main Content Container -->
    <main class="character-profile-container">
        <header class="profile-header-nav">
            <button class="back-button" onclick="window.location.href='codex.html'" title="Back to Codex">
                <span class="back-icon">â† Back to Codex</span>
            </button>
            <div class="character-actions">
                <button class="action-button" onclick="shareCharacter()" title="Share Character">
                    <span>ğŸ”—</span>
                </button>
                <button class="action-button" onclick="compareCharacter()" title="Compare with Others">
                    <span>âš–ï¸</span>
                </button>
                <button class="action-button" onclick="downloadProfile()" title="Download Profile">
                    <span>ğŸ“¥</span>
                </button>
            </div>
        </header>

        <!-- Tab Navigation -->
        <nav class="profile-tabs">
            <button class="profile-tab active" data-tab="overview">
                <span class="tab-icon">ğŸ“–</span>
                <span class="tab-text">Overview</span>
            </button>
            <button class="profile-tab" data-tab="biography">
                <span class="tab-icon">ğŸ“œ</span>
                <span class="tab-text">Biography</span>
            </button>
            <button class="profile-tab" data-tab="worldbuilding">
                <span class="tab-icon">ğŸŒ</span>
                <span class="tab-text">Analysis</span>
            </button>
            <button class="profile-tab" data-tab="skills">
                <span class="tab-icon">âš”ï¸</span>
                <span class="tab-text">Abilities</span>
            </button>
            <button class="profile-tab" data-tab="relationships">
                <span class="tab-icon">ğŸ¤</span>
                <span class="tab-text">Relations</span>
            </button>
            <button class="profile-tab" data-tab="cultural">
                <span class="tab-icon">ğŸ›ï¸</span>
                <span class="tab-text">Cultural Impact</span>
            </button>
        </nav>

        <!-- Profile Content (Dynamically populated by JavaScript) -->
        <section class="profile-content" id="profile-content">
            <!-- Content will be loaded by character.js -->
        </section>

        <!-- Floating Action Menu -->
        <div class="floating-action-menu" id="floating-action-menu">
            <button class="fab-main" onclick="toggleFabMenu()" title="Quick Actions">
                <span id="fab-main-icon">âš¡</span>
            </button>
            <div class="fab-menu" id="fab-menu">
                <button class="fab-item" onclick="scrollToTop()" title="Scroll to Top">
                    <span>â†‘</span>
                </button>
                <button class="fab-item" onclick="toggleTheme()" title="Toggle Theme">
                    <span>ğŸ¨</span>
                </button>
                <button class="fab-item" onclick="shareCharacter()" title="Share">
                    <span>ğŸ”—</span>
                </button>
                <button class="fab-item" onclick="downloadProfile()" title="Download">
                    <span>ğŸ“¥</span>
                </button>
            </div>
        </div>
    </main>

    <footer class="main-footer"
        style="padding: 1.5rem 0 1rem; background: transparent; border-top: 1px solid rgba(77, 212, 255, 0.2);">
        <div class="footer-content"
            style="grid-template-columns: 1fr 1fr; text-align: left; gap: 2rem; align-items: center;">
            <div class="footer-brand" style="align-items: flex-start;">
                <div class="footer-brand-header">
                    <div class="footer-logo"></div>
                    <div>
                        <div class="footer-brand-text">Jura Tempest Federation</div>
                        <div class="footer-tagline">Where bonds forge destiny</div>
                    </div>
                </div>
            </div>

            <div class="footer-info" style="text-align: right;">
                <div class="footer-copyright">Â© 2025 Tensura Chronicles</div>
                <div class="footer-version">Inspired by "That Time I Got Reincarnated as a Slime"</div>

                <!-- Compact Developer Credit -->
                <div
                    style="margin: 0.5rem 0; padding: 0.5rem; background: rgba(10, 14, 39, 0.3); border: 1px solid rgba(77, 212, 255, 0.3); border-radius: 6px; position: relative; overflow: hidden; backdrop-filter: blur(5px);">
                    <div
                        style="position: absolute; top: 0; left: 0; right: 0; height: 1px; background: linear-gradient(90deg, var(--accent-cyan), var(--accent-gold), var(--accent-cyan)); animation: footerGlow 3s ease-in-out infinite;">
                    </div>
                    <div style="font-size: 0.85rem; color: var(--text-light);">
                        ğŸ§  Brain + ğŸ’» Keyboard =
                        <a href="https://github.com/Divyansh3105"
                            style="color: var(--accent-cyan); text-decoration: none; font-weight: bold;">Divyansh
                            Garg</a>
                    </div>
                    <div
                        style="font-size: 1rem; margin-top: 0.2rem; filter: drop-shadow(0 0 4px rgba(255, 215, 0, 0.4));">
                        âœ¨ â­ âœ¨
                    </div>
                </div>

                <!-- Social Links -->
                <div class="footer-social" style="justify-content: flex-end; gap: 0.6rem; margin: 0.5rem 0;">
                    <a href="https://github.com/Divyansh3105" class="social-link" title="GitHub Repository"
                        style="width: 35px; height: 35px;">
                        <i class="fab fa-github"
                            style="color:#fff; font-size:1.1rem; text-decoration:none; transition:color 0.3s;"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/divyanshgarg3105/" class="social-link" title="LinkedIn Profile"
                        style="width: 35px; height: 35px;">
                        <i class="fab fa-linkedin"
                            style="color:#fff; font-size:1.1rem; text-decoration:none; transition:color 0.3s;"></i>
                    </a>
                </div>

                <!-- Final Message -->
                <div
                    style="font-size: 0.75rem; color: var(--text-secondary); opacity: 0.7; font-style: italic; margin-top: 0.5rem;">
                    "In unity, there is strength. In friendship, there is magic."
                </div>
            </div>
        </div>
    </footer>

    <!-- JavaScript Files -->
    <script src="js/loading-screen.js"></script>
    <script src="js/performance-optimizer.js"></script>
    <script src="js/character-loader.js"></script>
    <script src="js/game-state-optimized.js"></script>
    <script src="js/particles.js"></script>
    <script src="js/sound-effects.js"></script>
    <script src="js/mobile-nav.js"></script>
    <script src="js/character-clean.js"></script>

    <!-- Debug Script -->
    <script>
        // Debug logging
        window.addEventListener('load', () => {
            console.log('=== CHARACTER PAGE DEBUG ===');
            console.log('Page loaded');
            console.log('CharacterLoader:', !!window.CharacterLoader);
            console.log('GameState:', !!window.GameState);
            console.log('profile-content element:', !!document.getElementById('profile-content'));

            // Check URL parameters
            const urlParams = new URLSearchParams(window.location.search);
            const characterId = urlParams.get("id");
            console.log('Character ID from URL:', characterId);

            if (!characterId) {
                console.log('No character ID in URL - add ?id=rimuru to test');
            }
        });
    </script>
</body>

</html>
